{"ast":null,"code":"var _jsxFileName = \"E:\\\\testis\\\\frontend\\\\src\\\\HalamanUtama.js\",\n  _s = $RefreshSig$();\nimport ModalAddMonth from \"./ModalAddMonth\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport Recent from './RecentTransaction';\nimport FilterTransaksi from './FilterTransaksi';\nimport ChartKeuangan from './ChartKeuangan';\nimport ModalTransaksi from './ModalTransaksi';\nimport ModalKategori from './ModalKategori';\nimport ModalAkun from './ModalAkun';\nimport { useNavigate } from 'react-router-dom';\nimport DropdownAksi from \"./DropdownButton\";\nimport { getTransactions, getBudgets,\n// Ini akan memanggil /api/categories yang sudah termasuk alokasi\ncreateTransaction, updateTransaction, deleteTransaction, createCategory, updateCategory, deleteCategory, createAccount, getAccounts, updateAccount, deleteAccount } from './apiservice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const navigate = useNavigate();\n  const [accounts, setAccounts] = useState([]);\n  const [budgetsByMonth, setBudgetsByMonth] = useState({}); // Akan menyimpan { 'YYYY-MM': [kategori_dengan_budget_dan_alokasi] }\n  const [transactions, setTransactions] = useState([]);\n  const [pendapatan, setPendapatan] = useState([]);\n  const [categories, setCategories] = useState([]); // Ini hanya untuk daftar kategori di sidebar, tidak perlu detail budget\n  const [isTransactionModalOpen, setTransactionModalOpen] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [isCategoryModalOpen, setCategoryModalOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState(null); // Ini untuk data yang diteruskan ke ModalKategori\n  const [selectedAccount, setSelectedAccount] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isModalAddMonthOpen, setIsModalAddMonthOpen] = useState(false);\n  const [selectedTab, setSelectedTab] = useState(\"Terkini\");\n  const [selectedTabPendapatan, setSelectedTabPendapatan] = useState(\"Terkini\");\n  const [categoryModalMode, setCategoryModalMode] = useState('add');\n  const [selectedMonth, setSelectedMonth] = useState(() => {\n    const savedMonth = localStorage.getItem('selectedMonth');\n    if (savedMonth) {\n      if (/^\\d{4}-\\d{2}$/.test(savedMonth)) {\n        return savedMonth;\n      }\n    }\n    const d = new Date();\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;\n  });\n  const [availableMonths, setAvailableMonths] = useState(() => {\n    const savedMonths = localStorage.getItem('availableMonths');\n    if (savedMonths) {\n      try {\n        const parsedMonths = JSON.parse(savedMonths);\n        if (Array.isArray(parsedMonths) && parsedMonths.every(m => typeof m === 'string' && /^\\d{4}-\\d{2}$/.test(m))) {\n          const d = new Date();\n          const currentMonth = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;\n          return [...new Set([...parsedMonths, currentMonth])].sort();\n        }\n      } catch (e) {\n        console.error(\"Failed to parse availableMonths from localStorage\", e);\n      }\n    }\n    const d = new Date();\n    return [`${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`];\n  });\n  useEffect(() => {\n    localStorage.setItem('selectedMonth', selectedMonth);\n  }, [selectedMonth]);\n  useEffect(() => {\n    localStorage.setItem('availableMonths', JSON.stringify(availableMonths));\n  }, [availableMonths]);\n  const fetchData = useCallback(async () => {\n    setIsLoading(true);\n    console.log(\"[FRONTEND] Starting fetchData...\");\n    try {\n      const [year, month] = selectedMonth.split('-');\n      console.log(\"[FRONTEND] Calling getAccounts()...\");\n      const accountData = await getAccounts();\n      console.log(\"[FRONTEND] Fetched Accounts (from API):\", accountData);\n      setAccounts(accountData);\n      console.log(\"[FRONTEND] accounts state updated.\");\n\n      // getBudgets sekarang mengambil data kategori dengan budget dan alokasi\n      const budgetDataWithAllocations = await getBudgets(year, month);\n      const transactionData = await getTransactions();\n\n      // Filter budgetData untuk hanya yang memiliki amount atau used > 0\n      const budgetDataFiltered = budgetDataWithAllocations.filter(item => parseFloat(item.amount) > 0 || parseFloat(item.used) > 0);\n      setBudgetsByMonth(prev => {\n        const updatedBudgets = {\n          ...prev,\n          [selectedMonth]: budgetDataFiltered\n        };\n        console.log(`[FRONTEND] Budgets for ${selectedMonth} (filtered, with allocations):`, budgetDataFiltered);\n        return updatedBudgets;\n      });\n\n      // Perbarui daftar kategori yang ditampilkan di sidebar (ini bisa semua kategori, tidak harus yang punya budget)\n      // Atau jika ingin hanya yang punya budget, tetap pakai budgetDataFiltered\n      setCategories(budgetDataFiltered.map(b => ({\n        id: b.id,\n        name: b.name\n      }))); // Menggunakan `id` dan `name` dari setiap kategori yang dikembalikan backend\n      console.log(`[FRONTEND] Categories for display (derived from active budgets):`, categories);\n      const expenseTxs = transactionData.filter(tx => tx.type === 'expense');\n      const incomeTxs = transactionData.filter(tx => tx.type === 'income');\n      setTransactions(expenseTxs);\n      setPendapatan(incomeTxs);\n    } catch (error) {\n      console.error(\"[FRONTEND] Gagal mengambil data:\", error);\n      // Consider more user-friendly error display\n    } finally {\n      setIsLoading(false);\n      console.log(\"[FRONTEND] fetchData finished.\");\n    }\n  }, [selectedMonth]); // selectedMonth adalah dependency agar fetchData terpanggil saat bulan berubah\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  const handleAddMonth = async newMonth => {\n    console.log(\"[FRONTEND] Memulai penambahan bulan baru:\", newMonth);\n    if (availableMonths.includes(newMonth)) {\n      alert(\"Maaf, bulan sudah ada!\");\n      return;\n    }\n    try {\n      setSelectedMonth(newMonth);\n      console.log(\"[FRONTEND] SelectedMonth diatur ke:\", newMonth);\n      setIsModalAddMonthOpen(false);\n      setAvailableMonths(prevMonths => {\n        const updated = [...new Set([...prevMonths, newMonth])].sort((a, b) => new Date(a) - new Date(b));\n        return updated;\n      });\n      alert(\"Bulan baru berhasil ditambahkan! Anda bisa mulai menambahkan kategori dan budget untuk bulan ini.\");\n    } catch (error) {\n      console.error(\"[FRONTEND] Gagal menambah bulan:\", error);\n      alert(\"Terjadi kesalahan saat menambah bulan baru: \" + error.message);\n    }\n  };\n  const handleDeleteTransaction = async transactionId => {\n    if (window.confirm(\"Anda yakin ingin menghapus transaksi ini?\")) {\n      try {\n        await deleteTransaction(transactionId);\n        fetchData();\n        alert('Transaksi berhasil dihapus.');\n      } catch (error) {\n        console.error(\"[FRONTEND] Gagal menghapus transaksi:\", error);\n        alert(error.message);\n      }\n    }\n  };\n  const handleHapusKategori = async categoryId => {\n    if (window.confirm(\"Yakin ingin menghapus kategori ini? Ini akan menghapus kategori dari semua bulan dan mengembalikan sisa budget ke akun asalnya secara proporsional.\")) {\n      try {\n        console.log(`[FRONTEND] Menghapus kategori dengan ID: ${categoryId}`);\n        await deleteCategory(categoryId);\n        fetchData();\n        alert('Kategori berhasil dihapus dari semua bulan. Sisa dana budget telah dikembalikan ke akun asalnya.');\n      } catch (error) {\n        console.error(\"[FRONTEND] Gagal hapus kategori:\", error);\n        alert(error.message);\n      }\n    }\n  };\n  const handleOpenEditTransactionModal = transaction => {\n    setSelectedTransaction(transaction);\n    setTransactionModalOpen(true);\n  };\n  const handleSaveTransaction = async data => {\n    try {\n      if (data.id) {\n        const {\n          type,\n          ...updateData\n        } = data; // Type tidak dikirim saat update\n        await updateTransaction(data.id, updateData);\n      } else {\n        await createTransaction(data);\n      }\n      setTransactionModalOpen(false);\n      fetchData();\n      alert('Transaksi berhasil disimpan!');\n    } catch (error) {\n      console.error('[FRONTEND] Gagal menyimpan transaksi:', error);\n      alert(error.message);\n    }\n  };\n  const handleOpenAddCategoryModal = () => {\n    setCategoryModalMode('add');\n    setSelectedCategory(null); // Penting untuk mereset initialData\n    setCategoryModalOpen(true);\n  };\n  const handleOpenEditCategoryModal = categoryToEdit => {\n    setCategoryModalMode('edit');\n    console.log(\"[App.js] handleOpenEditCategoryModal called with:\", categoryToEdit);\n\n    // Cari detail budget dan alokasi dari state budgetsByMonth yang sudah ada\n    const currentMonthBudgets = budgetsByMonth[selectedMonth] || [];\n    // `categoryToEdit.id` adalah `category_id` di objek yang dikembalikan dari backend\n    const budgetDetails = currentMonthBudgets.find(b => b.id === categoryToEdit.id); // Perhatikan b.id karena backend mengembalikan id kategori\n\n    if (budgetDetails) {\n      console.log(\"[App.js] Found budget details for edit:\", budgetDetails);\n      setSelectedCategory({\n        id: budgetDetails.id,\n        // ini adalah category_id\n        name: budgetDetails.name,\n        // ini adalah category_name\n        total_amount: parseFloat(budgetDetails.amount) || 0,\n        // Pastikan allocations ada dan di-map ke format { account_id, amount }\n        allocations: budgetDetails.allocations ? budgetDetails.allocations.map(alloc => ({\n          account_id: alloc.account_id,\n          amount: parseFloat(alloc.amount_allocated) // Sesuaikan dengan nama prop di backend\n        })) : []\n      });\n    } else {\n      console.warn(\"[App.js] Budget details not found for category in current month. Initializing with empty allocations.\", categoryToEdit);\n      // Fallback jika tidak ada budget untuk kategori di bulan ini\n      setSelectedCategory({\n        id: categoryToEdit.id,\n        name: categoryToEdit.name,\n        allocations: [],\n        total_amount: 0\n      });\n    }\n    setCategoryModalOpen(true);\n  };\n  const handleCategoryModalSave = async data => {\n    try {\n      const [year, month] = selectedMonth.split('-');\n      if (categoryModalMode === 'add') {\n        const payload = {\n          name: data.name,\n          total_amount: data.total_amount,\n          year: parseInt(year, 10),\n          month: parseInt(month, 10),\n          allocations: data.allocations\n        };\n        console.log(`[FRONTEND] Mengirim payload ke createCategory:`, payload);\n        await createCategory(payload);\n        alert('Kategori baru berhasil ditambahkan!');\n      } else if (categoryModalMode === 'edit') {\n        // Payload untuk update sekarang juga mencakup total_amount dan allocations\n        const updatePayload = {\n          name: data.name,\n          total_amount: data.total_amount,\n          // total_amount yang dihitung dari ModalKategori\n          allocations: data.allocations,\n          // array alokasi yang diupdate\n          year: parseInt(year, 10),\n          // Tambahkan tahun dan bulan\n          month: parseInt(month, 10)\n        };\n        console.log(`[FRONTEND] Mengirim update payload ke updateCategory (ID: ${data.id}):`, updatePayload);\n        await updateCategory(data.id, updatePayload); // data.id adalah category_id\n        alert('Kategori berhasil diupdate!');\n      }\n      setCategoryModalOpen(false);\n      fetchData();\n    } catch (error) {\n      console.error('[FRONTEND] Gagal menyimpan kategori:', error);\n      alert(error.message);\n    }\n  };\n  const [isAccountModalOpen, setAccountModalOpen] = useState(false);\n  const handleOpenAddAccountModal = () => {\n    setSelectedAccount(null); // Reset selected account for add mode\n    setAccountModalOpen(true);\n  };\n  const handleSaveAccount = async data => {\n    try {\n      if (data.id) {\n        await updateAccount(data.id, data);\n      } else {\n        await createAccount(data);\n      }\n      setAccountModalOpen(false);\n      fetchData();\n      alert('Akun berhasil disimpan!');\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const handleDeleteAccount = async accountId => {\n    if (window.confirm('Yakin ingin menghapus akun ini? Semua transaksi terkait akan ikut terhapus dan aksi ini tidak bisa dibatalkan.')) {\n      try {\n        await deleteAccount(accountId);\n        fetchData();\n        alert('Akun berhasil dihapus.');\n      } catch (error) {\n        alert(error.message);\n      }\n    }\n  };\n  const handleOpenEditAccountModal = account => {\n    setSelectedAccount(account);\n    setAccountModalOpen(true);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('userToken');\n    localStorage.removeItem('selectedMonth');\n    localStorage.removeItem('availableMonths');\n    navigate('/');\n  };\n  const CircularProgress = ({\n    percentage\n  }) => {\n    const pct = Number(percentage);\n    const radius = 20;\n    const stroke = 4;\n    const normalized = radius - stroke / 2;\n    const circumference = 2 * Math.PI * normalized;\n    const clamped = Math.min(pct, 100);\n    const offset = circumference * (1 - clamped / 100);\n    const color = pct > 99 ? 'stroke-red-500' : pct > 50 ? 'stroke-yellow-400' : pct > 0 ? 'stroke-green-400' : 'stroke-transparent';\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      viewBox: \"0 0 48 48\",\n      children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n        className: \"stroke-gray-200\",\n        strokeWidth: stroke,\n        fill: \"transparent\",\n        r: normalized,\n        cx: \"24\",\n        cy: \"24\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        className: `transition-all duration-300 ${color}`,\n        strokeWidth: stroke,\n        fill: \"transparent\",\n        r: normalized,\n        cx: \"24\",\n        cy: \"24\",\n        strokeDasharray: circumference,\n        strokeDashoffset: offset,\n        strokeLinecap: \"round\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }, this);\n  };\n  function formatMonth(monthStr) {\n    const [year, month] = monthStr.split(\"-\");\n    const monthNames = [\"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"];\n    return `${monthNames[parseInt(month, 10) - 1]} ${year}`;\n  }\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-col items-start justify-center min-h-screen bg-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row w-full bg-black shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"px-5 py-4 text-xl font-bold text-white\",\n        children: \"=\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-gray-700 shadow-md text-center py-9 md:py-32 lg:py-32\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"font-semibold text-white mb-4 text-4xl md:text-6xl lg:text-7xl\",\n        children: \"DuitKu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"absolute top-4 right-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg shadow\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-flex rounded-full overflow-hidden shadow-md border border-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-gray-500 text-white px-6 py-2 text-sm md:text-base font-medium rounded-l-full\",\n          children: \"Transaksi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/hutang\"),\n          className: \"bg-white text-gray-500 hover:bg-gray-100 px-6 py-2 text-sm md:text-base font-medium rounded-r-full\",\n          children: \"Hutang\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-10 px-10 flex flex-row bg-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col w-1/6 mr-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-500 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white px-2 w-3/4\",\n            children: \"Kategori Bulanan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 py-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"month-select\",\n              className: \"text-sm font-semibold mr-2 text-gray-700\",\n              children: \"Pilih Bulan:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedMonth,\n              onChange: e => {\n                const val = e.target.value;\n                if (val === \"add_new\") {\n                  setIsModalAddMonthOpen(true);\n                } else {\n                  setSelectedMonth(val);\n                }\n              },\n              children: [availableMonths.sort((a, b) => new Date(a) - new Date(b)).map(month => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: month,\n                children: formatMonth(month)\n              }, month, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 41\n              }, this)), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"add_new\",\n                children: \"+ Tambah Bulan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-3 py-1 w-full\",\n            children: [(budgetsByMonth[selectedMonth] || []).map(item => {\n              // Pastikan ini item yang benar dari backend, yang punya properti amount, used, balance, dan allocations\n              // id adalah category_id, name adalah category_name\n              const budgetAmount = parseFloat(item.amount) || 0;\n              const usedAmount = parseFloat(item.used) || 0;\n              const percentage = budgetAmount > 0 ? usedAmount / budgetAmount * 100 : 0;\n              const budgetBalance = parseFloat(item.balance) || 0;\n              if (!item.name) return null; // Menggunakan item.name karena backend mengembalikan `name` sekarang\n\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                // Gunakan item.id (category_id)\n                className: \"w-4/6 sm:w-4/6 lg:w-2/3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border rounded-xl px-2 py-1 gap-1 flex flex-col w-full border-gray-300\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-wrap items-center w-5/6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm\",\n                        children: item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 471,\n                        columnNumber: 53\n                      }, this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(DropdownAksi, {\n                      onEdit: () => handleOpenEditCategoryModal(item) // Teruskan item lengkap\n                      ,\n                      onDelete: () => handleHapusKategori(item.id) // Gunakan item.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 473,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500\",\n                      children: \"Saldo Budget\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-semibold text-gray-900\",\n                      children: [\"Rp \", budgetBalance.toLocaleString('id-ID')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-row gap-1 items-center relative w-fit group cursor-pointer\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-[11px]\",\n                      children: [percentage.toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 485,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {\n                      percentage: percentage\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"absolute left-full top-1/2 ml-2 -translate-y-1/2 \\r bg-gray-500 text-white text-[11px] px-1 py-1 rounded  \\r opacity-0 group-hover:opacity-100 transition-all duration-200  \\r whitespace-nowrap z-10 \\r pointer-events-none\",\n                      children: \"Pemakaian\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 484,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 41\n                }, this)\n              }, item.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 37\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleOpenAddCategoryModal,\n              className: \"bg-gray-100 text-gray-300 xl:text-[12px] 2xl:text-[15px] px-5 py-2 rounded hover:bg-gray-500 w-9/12\",\n              children: \"+ Tambah Kategori\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"bg-gray-500 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white px-2 w-3/4\",\n          children: \"Daftar Akun\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-3 py-1 w-full\",\n          children: [accounts.length > 0 ? accounts.map(account => {\n            console.log(`[FRONTEND Render] Account ID: ${account.id}, Name: ${account.name}, Balance: ${account.balance}`);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-4/6 sm:w-4/6 lg:w-2/3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white border rounded-xl px-2 py-2 gap-1 flex flex-col w-full border-gray-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-row justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium text-gray-800\",\n                    children: account.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(DropdownAksi, {\n                    onEdit: () => handleOpenEditAccountModal(account),\n                    onDelete: () => handleDeleteAccount(account.id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-semibold text-gray-900\",\n                  children: [\"Rp \", Number(account.balance).toLocaleString('id-ID')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 45\n              }, this)\n            }, account.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 37\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"p-2 text-sm text-gray-500\",\n            children: \"Belum ada akun.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleOpenAddAccountModal,\n            className: \"bg-gray-100 text-gray-400 text-sm px-5 py-2 rounded-xl hover:bg-gray-200 w-4/6 sm:w-4/6 lg:w-2/3\",\n            children: \"+ Tambah Akun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-3/6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white mx-2 px-2 w-5/6\",\n            children: \"Transaksi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 dark:border-gray-700 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\",\n              children: [[\"Terkini\", \"Harian\", \"Bulanan\", \"Tahunan\"].map(tab => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"me-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedTab(tab),\n                  className: `inline-flex items-center justify-center p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group ${selectedTab === tab ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\" : \"border-transparent\"}`,\n                  children: tab\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 41\n                }, this)\n              }, tab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 37\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOpenEditTransactionModal({\n                  type: 'expense'\n                }),\n                title: \"Tambah Pengeluaran Baru\",\n                className: \"ml-auto bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded-lg shadow\",\n                children: \"+ Tambah Transaksi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 25\n          }, this), selectedTab === \"Terkini\" && /*#__PURE__*/_jsxDEV(Recent, {\n            budgets: budgetsByMonth[selectedMonth] || [] // Pass current month's budgets\n            ,\n            accounts: accounts // Pass accounts\n            ,\n            transactions: transactions,\n            type: \"expense\" // Specify transaction type\n            ,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 29\n          }, this), selectedTab === \"Harian\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth[selectedMonth] || [] // Pass current month's budgets\n            ,\n            accounts: accounts // Pass accounts\n            ,\n            tab: \"Harian\",\n            transactions: transactions,\n            setTransactions: setTransactions // Keep setTransactions if needed for filtering logic within FilterTransaksi\n            ,\n            type: \"expense\" // Specify transaction type\n            ,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 29\n          }, this), selectedTab === \"Bulanan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth[selectedMonth] || [] // Pass current month's budgets\n            ,\n            accounts: accounts // Pass accounts\n            ,\n            tab: \"Bulanan\",\n            transactions: transactions,\n            setTransactions: setTransactions,\n            type: \"expense\" // Specify transaction type\n            ,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 29\n          }, this), selectedTab === \"Tahunan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth[selectedMonth] || [] // Pass current month's budgets\n            ,\n            accounts: accounts // Pass accounts\n            ,\n            tab: \"Tahunan\",\n            transactions: transactions,\n            setTransactions: setTransactions,\n            type: \"expense\" // Specify transaction type\n            ,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col mt-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white mx-2 px-2 w-5/6\",\n            children: \"Pendapatan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 dark:border-gray-700 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\",\n              children: [[\"Terkini\", \"Harian\", \"Bulanan\", \"Tahunan\"].map(tab => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"me-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedTabPendapatan(tab),\n                  className: `inline-flex items-center justify-center p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group ${selectedTabPendapatan === tab ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\" : \"border-transparent\"}`,\n                  children: tab\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 41\n                }, this)\n              }, tab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 37\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOpenEditTransactionModal({\n                  type: 'income'\n                }),\n                title: \"Tambah Pemasukan Baru\",\n                className: \"ml-auto bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded-lg shadow\",\n                children: \"+ Tambah Pemasukan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 29\n          }, this), selectedTabPendapatan === \"Terkini\" && /*#__PURE__*/_jsxDEV(Recent, {\n            budgets: budgetsByMonth[selectedMonth] || [],\n            accounts: accounts,\n            transactions: pendapatan,\n            type: \"income\",\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 33\n          }, this), selectedTabPendapatan === \"Harian\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth[selectedMonth] || [],\n            accounts: accounts,\n            tab: \"Harian\",\n            transactions: pendapatan,\n            setTransactions: setPendapatan,\n            type: \"income\",\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 33\n          }, this), selectedTabPendapatan === \"Bulanan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth[selectedMonth] || [],\n            accounts: accounts,\n            tab: \"Bulanan\",\n            transactions: pendapatan,\n            setTransactions: setPendapatan,\n            type: \"income\",\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 33\n          }, this), selectedTabPendapatan === \"Tahunan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth[selectedMonth] || [],\n            accounts: accounts,\n            tab: \"Tahunan\",\n            transactions: pendapatan,\n            setTransactions: setPendapatan,\n            type: \"income\",\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/6 ml-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white px-2\",\n          children: \"Grafik Keuangan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ChartKeuangan, {\n          transactions: transactions // Filtered expense transactions\n          ,\n          pendapatan: pendapatan // Filtered income transactions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalAddMonth, {\n      isOpen: isModalAddMonthOpen,\n      onClose: () => setIsModalAddMonthOpen(false),\n      onSave: handleAddMonth,\n      availableMonths: availableMonths\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalTransaksi, {\n      isOpen: isTransactionModalOpen,\n      onClose: () => {\n        setTransactionModalOpen(false);\n        setSelectedTransaction(null); // Reset selected transaction on close\n      },\n      onSave: handleSaveTransaction,\n      initialData: selectedTransaction,\n      categories: categories // Pass categories for selection\n      ,\n      accounts: accounts // Pass accounts for selection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalKategori, {\n      isOpen: isCategoryModalOpen,\n      onClose: () => {\n        setCategoryModalOpen(false);\n        setSelectedCategory(null); // Reset selected category on close\n      },\n      onSave: handleCategoryModalSave,\n      initialData: selectedCategory,\n      mode: categoryModalMode,\n      accounts: accounts // Pass accounts to ModalKategori for allocation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 737,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalAkun, {\n      isOpen: isAccountModalOpen,\n      onClose: () => {\n        setAccountModalOpen(false);\n        setSelectedAccount(null); // Reset selected account on close\n      },\n      onSave: handleSaveAccount,\n      initialData: selectedAccount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 388,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"zlGeIc0tejzICPx4ik0RmDpLazc=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["ModalAddMonth","React","useEffect","useState","useCallback","Recent","FilterTransaksi","ChartKeuangan","ModalTransaksi","ModalKategori","ModalAkun","useNavigate","DropdownAksi","getTransactions","getBudgets","createTransaction","updateTransaction","deleteTransaction","createCategory","updateCategory","deleteCategory","createAccount","getAccounts","updateAccount","deleteAccount","jsxDEV","_jsxDEV","App","_s","navigate","accounts","setAccounts","budgetsByMonth","setBudgetsByMonth","transactions","setTransactions","pendapatan","setPendapatan","categories","setCategories","isTransactionModalOpen","setTransactionModalOpen","selectedTransaction","setSelectedTransaction","isCategoryModalOpen","setCategoryModalOpen","selectedCategory","setSelectedCategory","selectedAccount","setSelectedAccount","isLoading","setIsLoading","isModalAddMonthOpen","setIsModalAddMonthOpen","selectedTab","setSelectedTab","selectedTabPendapatan","setSelectedTabPendapatan","categoryModalMode","setCategoryModalMode","selectedMonth","setSelectedMonth","savedMonth","localStorage","getItem","test","d","Date","getFullYear","String","getMonth","padStart","availableMonths","setAvailableMonths","savedMonths","parsedMonths","JSON","parse","Array","isArray","every","m","currentMonth","Set","sort","e","console","error","setItem","stringify","fetchData","log","year","month","split","accountData","budgetDataWithAllocations","transactionData","budgetDataFiltered","filter","item","parseFloat","amount","used","prev","updatedBudgets","map","b","id","name","expenseTxs","tx","type","incomeTxs","handleAddMonth","newMonth","includes","alert","prevMonths","updated","a","message","handleDeleteTransaction","transactionId","window","confirm","handleHapusKategori","categoryId","handleOpenEditTransactionModal","transaction","handleSaveTransaction","data","updateData","handleOpenAddCategoryModal","handleOpenEditCategoryModal","categoryToEdit","currentMonthBudgets","budgetDetails","find","total_amount","allocations","alloc","account_id","amount_allocated","warn","handleCategoryModalSave","payload","parseInt","updatePayload","isAccountModalOpen","setAccountModalOpen","handleOpenAddAccountModal","handleSaveAccount","handleDeleteAccount","accountId","handleOpenEditAccountModal","account","handleLogout","removeItem","CircularProgress","percentage","pct","Number","radius","stroke","normalized","circumference","Math","PI","clamped","min","offset","color","className","viewBox","children","strokeWidth","fill","r","cx","cy","fileName","_jsxFileName","lineNumber","columnNumber","strokeDasharray","strokeDashoffset","strokeLinecap","formatMonth","monthStr","monthNames","onClick","htmlFor","value","onChange","val","target","budgetAmount","usedAmount","budgetBalance","balance","onEdit","onDelete","toLocaleString","toFixed","length","tab","title","budgets","isOpen","onClose","onSave","initialData","mode","_c","$RefreshReg$"],"sources":["E:/testis/frontend/src/HalamanUtama.js"],"sourcesContent":["import ModalAddMonth from \"./ModalAddMonth\";\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport Recent from './RecentTransaction';\r\nimport FilterTransaksi from './FilterTransaksi';\r\nimport ChartKeuangan from './ChartKeuangan';\r\nimport ModalTransaksi from './ModalTransaksi';\r\nimport ModalKategori from './ModalKategori'; \r\nimport ModalAkun from './ModalAkun';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport DropdownAksi from \"./DropdownButton\";\r\nimport { \r\n    getTransactions, \r\n    getBudgets, // Ini akan memanggil /api/categories yang sudah termasuk alokasi\r\n    createTransaction, \r\n    updateTransaction, \r\n    deleteTransaction, \r\n    createCategory, \r\n    updateCategory, \r\n    deleteCategory, \r\n    createAccount, \r\n    getAccounts, \r\n    updateAccount, \r\n    deleteAccount\r\n} from './apiservice'; \r\n\r\nfunction App() {\r\n    const navigate = useNavigate();\r\n    const [accounts, setAccounts] = useState([]);\r\n    const [budgetsByMonth, setBudgetsByMonth] = useState({}); // Akan menyimpan { 'YYYY-MM': [kategori_dengan_budget_dan_alokasi] }\r\n    const [transactions, setTransactions] = useState([]);\r\n    const [pendapatan, setPendapatan] = useState([]); \r\n    const [categories, setCategories] = useState([]); // Ini hanya untuk daftar kategori di sidebar, tidak perlu detail budget\r\n    const [isTransactionModalOpen, setTransactionModalOpen] = useState(false);\r\n    const [selectedTransaction, setSelectedTransaction] = useState(null);\r\n    const [isCategoryModalOpen, setCategoryModalOpen] = useState(false);\r\n    const [selectedCategory, setSelectedCategory] = useState(null); // Ini untuk data yang diteruskan ke ModalKategori\r\n    const [selectedAccount, setSelectedAccount] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isModalAddMonthOpen, setIsModalAddMonthOpen] = useState(false);\r\n    const [selectedTab, setSelectedTab] = useState(\"Terkini\"); \r\n    const [selectedTabPendapatan, setSelectedTabPendapatan] = useState(\"Terkini\"); \r\n    const [categoryModalMode, setCategoryModalMode] = useState('add');\r\n\r\n    const [selectedMonth, setSelectedMonth] = useState(() => {\r\n        const savedMonth = localStorage.getItem('selectedMonth');\r\n        if (savedMonth) {\r\n            if (/^\\d{4}-\\d{2}$/.test(savedMonth)) {\r\n                return savedMonth;\r\n            }\r\n        }\r\n        const d = new Date();\r\n        return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;\r\n    });\r\n\r\n    const [availableMonths, setAvailableMonths] = useState(() => {\r\n        const savedMonths = localStorage.getItem('availableMonths');\r\n        if (savedMonths) {\r\n            try {\r\n                const parsedMonths = JSON.parse(savedMonths);\r\n                if (Array.isArray(parsedMonths) && parsedMonths.every(m => typeof m === 'string' && /^\\d{4}-\\d{2}$/.test(m))) {\r\n                    const d = new Date();\r\n                    const currentMonth = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;\r\n                    return [...new Set([...parsedMonths, currentMonth])].sort();\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Failed to parse availableMonths from localStorage\", e);\r\n            }\r\n        }\r\n        const d = new Date();\r\n        return [`${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`];\r\n    });\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('selectedMonth', selectedMonth);\r\n    }, [selectedMonth]);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('availableMonths', JSON.stringify(availableMonths));\r\n    }, [availableMonths]);\r\n\r\n\r\n    const fetchData = useCallback(async () => {\r\n        setIsLoading(true);\r\n        console.log(\"[FRONTEND] Starting fetchData...\");\r\n        try {\r\n            const [year, month] = selectedMonth.split('-');\r\n            \r\n            console.log(\"[FRONTEND] Calling getAccounts()...\");\r\n            const accountData = await getAccounts();\r\n            console.log(\"[FRONTEND] Fetched Accounts (from API):\", accountData);\r\n            setAccounts(accountData);\r\n            console.log(\"[FRONTEND] accounts state updated.\"); \r\n            \r\n            // getBudgets sekarang mengambil data kategori dengan budget dan alokasi\r\n            const budgetDataWithAllocations = await getBudgets(year, month); \r\n            const transactionData = await getTransactions();\r\n\r\n            // Filter budgetData untuk hanya yang memiliki amount atau used > 0\r\n            const budgetDataFiltered = budgetDataWithAllocations.filter(item => \r\n                (parseFloat(item.amount) > 0 || parseFloat(item.used) > 0)\r\n            );\r\n\r\n            setBudgetsByMonth(prev => {\r\n                const updatedBudgets = {\r\n                    ...prev,\r\n                    [selectedMonth]: budgetDataFiltered\r\n                };\r\n                console.log(`[FRONTEND] Budgets for ${selectedMonth} (filtered, with allocations):`, budgetDataFiltered);\r\n                return updatedBudgets;\r\n            });\r\n            \r\n            // Perbarui daftar kategori yang ditampilkan di sidebar (ini bisa semua kategori, tidak harus yang punya budget)\r\n            // Atau jika ingin hanya yang punya budget, tetap pakai budgetDataFiltered\r\n            setCategories(budgetDataFiltered.map(b => ({id: b.id, name: b.name}))); // Menggunakan `id` dan `name` dari setiap kategori yang dikembalikan backend\r\n            console.log(`[FRONTEND] Categories for display (derived from active budgets):`, categories);\r\n\r\n            const expenseTxs = transactionData.filter(tx => tx.type === 'expense');\r\n            const incomeTxs = transactionData.filter(tx => tx.type === 'income');\r\n            setTransactions(expenseTxs);\r\n            setPendapatan(incomeTxs);\r\n            \r\n        } catch (error) {\r\n            console.error(\"[FRONTEND] Gagal mengambil data:\", error);\r\n            // Consider more user-friendly error display\r\n        } finally {\r\n            setIsLoading(false);\r\n            console.log(\"[FRONTEND] fetchData finished.\");\r\n        }\r\n    }, [selectedMonth]); // selectedMonth adalah dependency agar fetchData terpanggil saat bulan berubah\r\n        \r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [fetchData]);\r\n\r\n    const handleAddMonth = async (newMonth) => {\r\n        console.log(\"[FRONTEND] Memulai penambahan bulan baru:\", newMonth);\r\n        if (availableMonths.includes(newMonth)) {\r\n            alert(\"Maaf, bulan sudah ada!\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setSelectedMonth(newMonth);    \r\n            console.log(\"[FRONTEND] SelectedMonth diatur ke:\", newMonth);\r\n            setIsModalAddMonthOpen(false);\r\n            \r\n            setAvailableMonths(prevMonths => {\r\n                const updated = [...new Set([...prevMonths, newMonth])].sort((a, b) => new Date(a) - new Date(b));\r\n                return updated;\r\n            });\r\n\r\n            alert(\"Bulan baru berhasil ditambahkan! Anda bisa mulai menambahkan kategori dan budget untuk bulan ini.\");\r\n\r\n        } catch (error) {\r\n            console.error(\"[FRONTEND] Gagal menambah bulan:\", error);\r\n            alert(\"Terjadi kesalahan saat menambah bulan baru: \" + error.message);\r\n        }\r\n    };\r\n\r\n    \r\n    const handleDeleteTransaction = async (transactionId) => {\r\n        if (window.confirm(\"Anda yakin ingin menghapus transaksi ini?\")) {\r\n            try {\r\n                await deleteTransaction(transactionId); \r\n                fetchData(); \r\n                alert('Transaksi berhasil dihapus.');\r\n            } catch (error) {\r\n                console.error(\"[FRONTEND] Gagal menghapus transaksi:\", error);\r\n                alert(error.message);\r\n            }\r\n        }\r\n    };\r\n        \r\n    const handleHapusKategori = async (categoryId) => {\r\n        if (window.confirm(\"Yakin ingin menghapus kategori ini? Ini akan menghapus kategori dari semua bulan dan mengembalikan sisa budget ke akun asalnya secara proporsional.\")) {\r\n            try {\r\n                console.log(`[FRONTEND] Menghapus kategori dengan ID: ${categoryId}`);\r\n                await deleteCategory(categoryId); \r\n                fetchData(); \r\n                alert('Kategori berhasil dihapus dari semua bulan. Sisa dana budget telah dikembalikan ke akun asalnya.');\r\n            } catch (error) {\r\n                console.error(\"[FRONTEND] Gagal hapus kategori:\", error);\r\n                alert(error.message);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleOpenEditTransactionModal = (transaction) => {\r\n        setSelectedTransaction(transaction);\r\n        setTransactionModalOpen(true);\r\n    };\r\n\r\n    const handleSaveTransaction = async (data) => {\r\n        try {\r\n            if (data.id) {\r\n                const { type, ...updateData } = data; // Type tidak dikirim saat update\r\n                await updateTransaction(data.id, updateData);\r\n            } else {\r\n                await createTransaction(data);\r\n            }\r\n            setTransactionModalOpen(false);\r\n            fetchData(); \r\n            alert('Transaksi berhasil disimpan!');\r\n        } catch (error) {\r\n            console.error('[FRONTEND] Gagal menyimpan transaksi:', error);\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    const handleOpenAddCategoryModal = () => {\r\n        setCategoryModalMode('add');\r\n        setSelectedCategory(null); // Penting untuk mereset initialData\r\n        setCategoryModalOpen(true);\r\n    };\r\n\r\n    const handleOpenEditCategoryModal = (categoryToEdit) => {\r\n        setCategoryModalMode('edit');\r\n        console.log(\"[App.js] handleOpenEditCategoryModal called with:\", categoryToEdit);\r\n\r\n        // Cari detail budget dan alokasi dari state budgetsByMonth yang sudah ada\r\n        const currentMonthBudgets = budgetsByMonth[selectedMonth] || [];\r\n        // `categoryToEdit.id` adalah `category_id` di objek yang dikembalikan dari backend\r\n        const budgetDetails = currentMonthBudgets.find(b => b.id === categoryToEdit.id); // Perhatikan b.id karena backend mengembalikan id kategori\r\n\r\n        if (budgetDetails) {\r\n            console.log(\"[App.js] Found budget details for edit:\", budgetDetails);\r\n            setSelectedCategory({ \r\n                id: budgetDetails.id, // ini adalah category_id\r\n                name: budgetDetails.name, // ini adalah category_name\r\n                total_amount: parseFloat(budgetDetails.amount) || 0, \r\n                // Pastikan allocations ada dan di-map ke format { account_id, amount }\r\n                allocations: budgetDetails.allocations ? budgetDetails.allocations.map(alloc => ({ \r\n                    account_id: alloc.account_id,\r\n                    amount: parseFloat(alloc.amount_allocated) // Sesuaikan dengan nama prop di backend\r\n                })) : []\r\n            });\r\n        } else {\r\n            console.warn(\"[App.js] Budget details not found for category in current month. Initializing with empty allocations.\", categoryToEdit);\r\n            // Fallback jika tidak ada budget untuk kategori di bulan ini\r\n            setSelectedCategory({ \r\n                id: categoryToEdit.id, \r\n                name: categoryToEdit.name, \r\n                allocations: [], \r\n                total_amount: 0 \r\n            });\r\n        }\r\n        setCategoryModalOpen(true);\r\n    };\r\n\r\n    const handleCategoryModalSave = async (data) => {\r\n        try {\r\n            const [year, month] = selectedMonth.split('-');\r\n                                        \r\n            if (categoryModalMode === 'add') {\r\n                const payload = {\r\n                    name: data.name,\r\n                    total_amount: data.total_amount, \r\n                    year: parseInt(year, 10),\r\n                    month: parseInt(month, 10),\r\n                    allocations: data.allocations \r\n                };\r\n                console.log(`[FRONTEND] Mengirim payload ke createCategory:`, payload);\r\n                await createCategory(payload); \r\n                alert('Kategori baru berhasil ditambahkan!');\r\n\r\n            } else if (categoryModalMode === 'edit') {\r\n                // Payload untuk update sekarang juga mencakup total_amount dan allocations\r\n                const updatePayload = { \r\n                    name: data.name,\r\n                    total_amount: data.total_amount, // total_amount yang dihitung dari ModalKategori\r\n                    allocations: data.allocations, // array alokasi yang diupdate\r\n                    year: parseInt(year, 10), // Tambahkan tahun dan bulan\r\n                    month: parseInt(month, 10)\r\n                };\r\n                console.log(`[FRONTEND] Mengirim update payload ke updateCategory (ID: ${data.id}):`, updatePayload);\r\n                await updateCategory(data.id, updatePayload); // data.id adalah category_id\r\n                alert('Kategori berhasil diupdate!');\r\n            } \r\n            setCategoryModalOpen(false);\r\n            fetchData(); \r\n        } catch (error) {\r\n            console.error('[FRONTEND] Gagal menyimpan kategori:', error);\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    const [isAccountModalOpen, setAccountModalOpen] = useState(false);\r\n\r\n    const handleOpenAddAccountModal = () => {\r\n        setSelectedAccount(null); // Reset selected account for add mode\r\n        setAccountModalOpen(true);\r\n    };\r\n\r\n    const handleSaveAccount = async (data) => {\r\n        try {\r\n            if (data.id) {\r\n                await updateAccount(data.id, data);\r\n            } else {\r\n                await createAccount(data);\r\n            }\r\n            setAccountModalOpen(false);\r\n            fetchData(); \r\n            alert('Akun berhasil disimpan!');\r\n        } catch (error) {\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    const handleDeleteAccount = async (accountId) => {\r\n        if(window.confirm('Yakin ingin menghapus akun ini? Semua transaksi terkait akan ikut terhapus dan aksi ini tidak bisa dibatalkan.')){\r\n            try {\r\n                await deleteAccount(accountId);\r\n                fetchData(); \r\n                alert('Akun berhasil dihapus.');\r\n            } catch (error) {\r\n                alert(error.message);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleOpenEditAccountModal = (account) => {\r\n        setSelectedAccount(account);\r\n        setAccountModalOpen(true);\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('userToken');\r\n        localStorage.removeItem('selectedMonth');\r\n        localStorage.removeItem('availableMonths');\r\n        navigate('/');\r\n    };\r\n\r\n    const CircularProgress = ({ percentage }) => {\r\n        const pct = Number(percentage);\r\n        const radius = 20;\r\n        const stroke = 4;\r\n        const normalized = radius - stroke / 2;\r\n        const circumference = 2 * Math.PI * normalized;\r\n    \r\n        const clamped = Math.min(pct, 100);\r\n        const offset = circumference * (1 - clamped / 100);\r\n    \r\n        const color = \r\n            pct > 99 ? 'stroke-red-500' \r\n            : pct > 50 ? 'stroke-yellow-400' \r\n            : pct > 0 ? 'stroke-green-400' \r\n            : 'stroke-transparent';\r\n    \r\n        return (\r\n            <svg className=\"w-5 h-5\" viewBox=\"0 0 48 48\">\r\n                <circle \r\n                    className=\"stroke-gray-200\" \r\n                    strokeWidth={stroke} \r\n                    fill=\"transparent\" \r\n                    r={normalized} \r\n                    cx=\"24\" \r\n                    cy=\"24\" \r\n                />\r\n                <circle \r\n                    className={`transition-all duration-300 ${color}`} \r\n                    strokeWidth={stroke} \r\n                    fill=\"transparent\" \r\n                    r={normalized} \r\n                    cx=\"24\" \r\n                    cy=\"24\" \r\n                    strokeDasharray={circumference} \r\n                    strokeDashoffset={offset} \r\n                    strokeLinecap=\"round\" \r\n                />\r\n            </svg>\r\n        );\r\n    };\r\n\r\n    function formatMonth(monthStr) {\r\n        const [year, month] = monthStr.split(\"-\");\r\n        const monthNames = [\r\n            \"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\",\r\n            \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"\r\n        ];\r\n        return `${monthNames[parseInt(month, 10) - 1]} ${year}`;\r\n    }\r\n\r\n    if (isLoading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex-col items-start justify-center min-h-screen bg-gray-200\">\r\n            {/* Tampilan Paling atas garis item */}\r\n            <div className=\"flex flex-row w-full bg-black shadow-md\">\r\n                <h1 className=\"px-5 py-4 text-xl font-bold text-white\">=</h1>\r\n            </div>\r\n    \r\n            <div className=\"w-full bg-gray-700 shadow-md text-center py-9 md:py-32 lg:py-32\">\r\n                <h1 className=\"font-semibold text-white mb-4 text-4xl md:text-6xl lg:text-7xl\">\r\n                    DuitKu\r\n                </h1>\r\n                <button\r\n                    onClick={handleLogout}\r\n                    className=\"absolute top-4 right-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg shadow\"\r\n                >\r\n                    Logout\r\n                </button>\r\n            </div>\r\n            <div className=\"flex justify-center mt-5\">\r\n                <div className=\"inline-flex rounded-full overflow-hidden shadow-md border border-gray-500\">\r\n                    <button\r\n                        className=\"bg-gray-500 text-white px-6 py-2 text-sm md:text-base font-medium rounded-l-full\"\r\n                    >\r\n                        Transaksi\r\n                    </button>\r\n                    <button\r\n                        onClick={() => navigate(\"/hutang\")}\r\n                        className=\"bg-white text-gray-500 hover:bg-gray-100 px-6 py-2 text-sm md:text-base font-medium rounded-r-full\"\r\n                    >\r\n                        Hutang  \r\n                    </button>\r\n                </div>\r\n            </div>\r\n            {/* Tampilan kolom bagian kiri */}\r\n            <div className=\"py-10 px-10 flex flex-row bg-gray-200\">\r\n                <div className=\"flex flex-col w-1/6 mr-8\">\r\n                    <div className=\"flex flex-col\">\r\n                        <h1 className=\"bg-gray-500 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white px-2 w-3/4\">\r\n                            Kategori Bulanan\r\n                        </h1>\r\n                        <div className=\"mb-4 py-2\">\r\n                            <label htmlFor=\"month-select\" className=\"text-sm font-semibold mr-2 text-gray-700\">\r\n                                Pilih Bulan:\r\n                            </label>\r\n                            <select\r\n                                value={selectedMonth}\r\n                                onChange={(e) => {\r\n                                    const val = e.target.value;\r\n                                    if (val === \"add_new\") {\r\n                                        setIsModalAddMonthOpen(true);\r\n                                    } else {\r\n                                        setSelectedMonth(val);\r\n                                    }\r\n                                }}\r\n                            >\r\n                                {availableMonths\r\n                                    .sort((a, b) => new Date(a) - new Date(b)) \r\n                                    .map((month) => (\r\n                                        <option key={month} value={month}>\r\n                                            {formatMonth(month)}\r\n                                        </option>\r\n                                    ))\r\n                                }\r\n                                <option value=\"add_new\">+ Tambah Bulan</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"flex flex-wrap gap-3 py-1 w-full\">\r\n                            {(budgetsByMonth[selectedMonth] || []).map((item) => {\r\n                                // Pastikan ini item yang benar dari backend, yang punya properti amount, used, balance, dan allocations\r\n                                // id adalah category_id, name adalah category_name\r\n                                const budgetAmount = parseFloat(item.amount) || 0;\r\n                                const usedAmount = parseFloat(item.used) || 0;\r\n                                const percentage = budgetAmount > 0 ? (usedAmount / budgetAmount) * 100 : 0;\r\n                                const budgetBalance = parseFloat(item.balance) || 0;\r\n                                if (!item.name) return null; // Menggunakan item.name karena backend mengembalikan `name` sekarang\r\n\r\n                                return (\r\n                                    <div \r\n                                        key={item.id} // Gunakan item.id (category_id)\r\n                                        className=\"w-4/6 sm:w-4/6 lg:w-2/3\"\r\n                                    >\r\n                                        <div className=\"bg-white border rounded-xl px-2 py-1 gap-1 flex flex-col w-full border-gray-300\">\r\n                                            <div className=\"flex flex-row\">\r\n                                                    <div className=\"flex flex-wrap items-center w-5/6\"> \r\n                                                    <span className=\"text-sm\">{item.name}</span> {/* Gunakan item.name */}\r\n                                                    </div>\r\n                                                <DropdownAksi\r\n                                                    onEdit={() => handleOpenEditCategoryModal(item)} // Teruskan item lengkap\r\n                                                    onDelete={() => handleHapusKategori(item.id)} // Gunakan item.id\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"mt-1\">\r\n                                                <span className=\"text-xs text-gray-500\">Saldo Budget</span>\r\n                                                <p className=\"text-sm font-semibold text-gray-900\">\r\n                                                    Rp {budgetBalance.toLocaleString('id-ID')}\r\n                                                </p>\r\n                                            </div>\r\n                                            <div className=\"flex flex-row gap-1 items-center relative w-fit group cursor-pointer\">\r\n                                                <div className=\"text-[11px]\">\r\n                                                    {percentage.toFixed(0)}%\r\n                                                </div>\r\n                                                <CircularProgress percentage={percentage} />\r\n                                                <div className=\"absolute left-full top-1/2 ml-2 -translate-y-1/2 \r\n                                                    bg-gray-500 text-white text-[11px] px-1 py-1 rounded  \r\n                                                    opacity-0 group-hover:opacity-100 transition-all duration-200  \r\n                                                    whitespace-nowrap z-10 \r\n                                                    pointer-events-none\">\r\n                                                    Pemakaian\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                    \r\n                            <button\r\n                                onClick={handleOpenAddCategoryModal}\r\n                                className=\"bg-gray-100 text-gray-300 xl:text-[12px] 2xl:text-[15px] px-5 py-2 rounded hover:bg-gray-500 w-9/12\"\r\n                                >\r\n                                + Tambah Kategori\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    {/*Tampilan Konten Kedua bagian kiri */}\r\n                    <h1 className=\"bg-gray-500 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white px-2 w-3/4\">\r\n                        Daftar Akun\r\n                    </h1>\r\n                    <div className=\"flex flex-wrap gap-3 py-1 w-full\">\r\n                        {accounts.length > 0 ? (\r\n                                accounts.map(account => {\r\n                                    console.log(`[FRONTEND Render] Account ID: ${account.id}, Name: ${account.name}, Balance: ${account.balance}`);\r\n                                    return (\r\n                                    <div key={account.id} className=\"w-4/6 sm:w-4/6 lg:w-2/3\">\r\n                                            <div className=\"bg-white border rounded-xl px-2 py-2 gap-1 flex flex-col w-full border-gray-300\">\r\n                                                <div className=\"flex flex-row justify-between items-center\">\r\n                                                    <span className=\"text-sm font-medium text-gray-800\">{account.name}</span>\r\n                                                    <DropdownAksi\r\n                                                        onEdit={() => handleOpenEditAccountModal(account)}\r\n                                                        onDelete={() => handleDeleteAccount(account.id)}\r\n                                                    />\r\n                                                </div>\r\n                                                <span className=\"text-sm font-semibold text-gray-900\">\r\n                                                    Rp {Number(account.balance).toLocaleString('id-ID')}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                    })\r\n                        ) : (\r\n                                <p className=\"p-2 text-sm text-gray-500\">Belum ada akun.</p>\r\n                        )}\r\n                        <button\r\n                                onClick={handleOpenAddAccountModal}\r\n                                className=\"bg-gray-100 text-gray-400 text-sm px-5 py-2 rounded-xl hover:bg-gray-200 w-4/6 sm:w-4/6 lg:w-2/3\"\r\n                        >\r\n                                + Tambah Akun\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                {/* bagian tengah */}\r\n                <div className=\"w-3/6\">\r\n                    <div className=\"flex flex-col\">\r\n                        {/* Title + Table */}\r\n                        <h1 className=\"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white mx-2 px-2 w-5/6\">\r\n                            Transaksi\r\n                        </h1>\r\n                        \r\n                        {/* Tabs */}\r\n                        <div className=\"border-b border-gray-200 dark:border-gray-700 mb-2\">\r\n                            <ul className=\"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\">\r\n                                {[\"Terkini\", \"Harian\",\"Bulanan\",\"Tahunan\"].map((tab) => (\r\n                                    <li key={tab} className=\"me-2\">\r\n                                        <button\r\n                                            onClick={() => setSelectedTab(tab)}\r\n                                            className={`inline-flex items-center justify-center p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group ${\r\n                                                selectedTab === tab\r\n                                                ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\"\r\n                                                : \"border-transparent\"\r\n                                            }`}\r\n                                        >\r\n                                            {tab}\r\n                                        </button>\r\n                                    </li>\r\n                                ))}\r\n                                <button \r\n                                        onClick={() => handleOpenEditTransactionModal({ type: 'expense' })}\r\n                                        title=\"Tambah Pengeluaran Baru\"\r\n                                        className=\"ml-auto bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded-lg shadow\"\r\n                                    >\r\n                                        + Tambah Transaksi  \r\n                                </button>\r\n                            </ul>\r\n                        </div>\r\n                        {/* Content berdasarkan tab */}\r\n                        {selectedTab === \"Terkini\" && (\r\n                            <Recent\r\n                                budgets={budgetsByMonth[selectedMonth] || []} // Pass current month's budgets\r\n                                accounts={accounts} // Pass accounts\r\n                                transactions={transactions}\r\n                                type={\"expense\"} // Specify transaction type\r\n                                onDelete={handleDeleteTransaction}\r\n                                onEdit={handleOpenEditTransactionModal}\r\n                            />\r\n                        )}\r\n                        {selectedTab === \"Harian\" && (\r\n                            <FilterTransaksi\r\n                                budgets={budgetsByMonth[selectedMonth] || []} // Pass current month's budgets\r\n                                accounts={accounts} // Pass accounts\r\n                                tab={\"Harian\"}\r\n                                transactions={transactions}\r\n                                setTransactions={setTransactions} // Keep setTransactions if needed for filtering logic within FilterTransaksi\r\n                                type={\"expense\"} // Specify transaction type\r\n                                onDelete={handleDeleteTransaction}\r\n                                onEdit={handleOpenEditTransactionModal}\r\n                            />\r\n                        )}\r\n                        {selectedTab === \"Bulanan\" && (\r\n                            <FilterTransaksi\r\n                                budgets={budgetsByMonth[selectedMonth] || []} // Pass current month's budgets\r\n                                accounts={accounts} // Pass accounts\r\n                                tab={\"Bulanan\"}\r\n                                transactions={transactions}\r\n                                setTransactions={setTransactions}\r\n                                type={\"expense\"} // Specify transaction type\r\n                                onDelete={handleDeleteTransaction}\r\n                                onEdit={handleOpenEditTransactionModal}\r\n                            />\r\n                        )}\r\n                        {selectedTab === \"Tahunan\" && (\r\n                            <FilterTransaksi\r\n                                budgets={budgetsByMonth[selectedMonth] || []} // Pass current month's budgets\r\n                                accounts={accounts} // Pass accounts\r\n                                tab={\"Tahunan\"}\r\n                                transactions={transactions}\r\n                                setTransactions={setTransactions}\r\n                                type={\"expense\"} // Specify transaction type\r\n                                onDelete={handleDeleteTransaction}\r\n                                onEdit={handleOpenEditTransactionModal}\r\n                            />\r\n                        )}\r\n                    </div>\r\n\r\n                    {/*Tampilan kedua konten tengah*/}\r\n                    <div className=\"flex flex-col mt-10\">\r\n                            <h1 className=\"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white mx-2 px-2 w-5/6\">\r\n                                Pendapatan\r\n                            </h1>\r\n                            {/* Tabs */}\r\n                            <div className=\"border-b border-gray-200 dark:border-gray-700 mb-2\">\r\n                                <ul className=\"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\">\r\n                                {[\"Terkini\", \"Harian\", \"Bulanan\", \"Tahunan\"].map((tab) => (\r\n                                    <li key={tab} className=\"me-2\">\r\n                                        <button\r\n                                            onClick={() => setSelectedTabPendapatan(tab)}\r\n                                            className={`inline-flex items-center justify-center p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group ${\r\n                                                selectedTabPendapatan === tab\r\n                                                ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\"\r\n                                                : \"border-transparent\"\r\n                                            }`}\r\n                                        >\r\n                                            {tab}\r\n                                        </button>\r\n                                    </li>\r\n                                ))}\r\n                                <button \r\n                                        onClick={() => handleOpenEditTransactionModal({ type: 'income' })}\r\n                                        title=\"Tambah Pemasukan Baru\"\r\n                                        className=\"ml-auto bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded-lg shadow\"\r\n                                    >\r\n                                        + Tambah Pemasukan\r\n                                </button>\r\n                                </ul>\r\n                            </div>\r\n                            {selectedTabPendapatan === \"Terkini\" && (\r\n                                <Recent\r\n                                    budgets={budgetsByMonth[selectedMonth] || []}\r\n                                    accounts={accounts}\r\n                                    transactions={pendapatan}\r\n                                    type={\"income\"}\r\n                                    onDelete={handleDeleteTransaction}\r\n                                    onEdit={handleOpenEditTransactionModal}\r\n                                />\r\n                            )}\r\n                            {selectedTabPendapatan === \"Harian\" && (\r\n                                <FilterTransaksi\r\n                                    budgets={budgetsByMonth[selectedMonth] || []}\r\n                                    accounts={accounts}\r\n                                    tab={\"Harian\"}\r\n                                    transactions={pendapatan}\r\n                                    setTransactions={setPendapatan}\r\n                                    type={\"income\"}\r\n                                    onDelete={handleDeleteTransaction}\r\n                                    onEdit={handleOpenEditTransactionModal}\r\n                                />\r\n                            )}\r\n                            {selectedTabPendapatan === \"Bulanan\" && (\r\n                                <FilterTransaksi\r\n                                    budgets={budgetsByMonth[selectedMonth] || []}\r\n                                    accounts={accounts}\r\n                                    tab={\"Bulanan\"}\r\n                                    transactions={pendapatan}\r\n                                    setTransactions={setPendapatan}\r\n                                    type={\"income\"}\r\n                                    onDelete={handleDeleteTransaction}\r\n                                    onEdit={handleOpenEditTransactionModal}\r\n                                />\r\n                            )}\r\n                            {selectedTabPendapatan === \"Tahunan\" && (\r\n                                <FilterTransaksi\r\n                                    budgets={budgetsByMonth[selectedMonth] || []}\r\n                                    accounts={accounts}\r\n                                    tab={\"Tahunan\"}\r\n                                    transactions={pendapatan}\r\n                                    setTransactions={setPendapatan}\r\n                                    type={\"income\"}\r\n                                    onDelete={handleDeleteTransaction}\r\n                                    onEdit={handleOpenEditTransactionModal}\r\n                                />\r\n                            )}\r\n                    </div>\r\n                </div>\r\n                {/* bagian kanan */}\r\n                <div className=\"w-2/6 ml-8\">\r\n                    <h1 className=\"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white px-2\">\r\n                        Grafik Keuangan\r\n                    </h1>\r\n                    <ChartKeuangan \r\n                        transactions={transactions} // Filtered expense transactions\r\n                        pendapatan={pendapatan} // Filtered income transactions\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <ModalAddMonth\r\n                isOpen={isModalAddMonthOpen}\r\n                onClose={() => setIsModalAddMonthOpen(false)}\r\n                onSave={handleAddMonth}\r\n                availableMonths={availableMonths}\r\n            />\r\n            <ModalTransaksi\r\n                isOpen={isTransactionModalOpen}\r\n                onClose={() => {\r\n                    setTransactionModalOpen(false);\r\n                    setSelectedTransaction(null); // Reset selected transaction on close\r\n                }}\r\n                onSave={handleSaveTransaction}\r\n                initialData={selectedTransaction}\r\n                categories={categories} // Pass categories for selection\r\n                accounts={accounts} // Pass accounts for selection\r\n            />\r\n            <ModalKategori\r\n                isOpen={isCategoryModalOpen}\r\n                onClose={() => {\r\n                    setCategoryModalOpen(false);\r\n                    setSelectedCategory(null); // Reset selected category on close\r\n                }}\r\n                onSave={handleCategoryModalSave}\r\n                initialData={selectedCategory}\r\n                mode={categoryModalMode}\r\n                accounts={accounts} // Pass accounts to ModalKategori for allocation\r\n            />\r\n            <ModalAkun\r\n                isOpen={isAccountModalOpen}\r\n                onClose={() => {\r\n                    setAccountModalOpen(false);\r\n                    setSelectedAccount(null); // Reset selected account on close\r\n                }}\r\n                onSave={handleSaveAccount}\r\n                initialData={selectedAccount}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}